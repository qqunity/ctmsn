# Лабораторная работа 1. Построение семантической сети

**Предметная область:** Университет

**Система:** CTMSN (Composable Typed Modules for Semantic Networks)

## Содержание

- [Цель работы](#1-цель-работы)
- [Теоретические сведения](#2-теоретические-сведения)
- [Требования к оборудованию и ПО](#3-требования-к-оборудованию-и-по)
- [Порядок выполнения](#4-порядок-выполнения)
- [Задание для самостоятельной работы](#5-задание-для-самостоятельной-работы)
- [Требования к отчёту](#6-требования-к-отчёту)
- [Контрольные вопросы](#7-контрольные-вопросы)

---

## 1 Цель работы

Ознакомиться с системой CTMSN и освоить базовые операции построения семантической сети: создание концептов, определение предикатов, добавление фактов, параметризация и проверка форсинга.

## 2 Теоретические сведения

### 2.1 Семантическая сеть

Семантическая сеть — формальная модель представления знаний в виде ориентированного графа. Основные элементы:

- **Концепт (Concept)** — именованная сущность, представляющая объект предметной области. Является узлом графа. Каждый концепт имеет уникальный идентификатор (`id`) и человекочитаемое описание (`label`).
- **Предикат (Predicate)** — именованное типизированное отношение между концептами. Является шаблоном ребра графа. Характеризуется арностью (количеством аргументов) и набором ролей.
- **Факт (Statement)** — конкретный экземпляр предиката, связывающий определённые концепты. Является ребром графа.

### 2.2 Параметризация

Параметризация позволяет обобщать семантическую сеть, вводя переменные:

- **Переменная (Variable)** — параметр с именем и доменом допустимых значений.
- **Домен (Domain)** — множество допустимых значений переменной (например, конечное перечисление концептов).
- **Контекст (Context)** — частичное присваивание значений переменным. Определяет конкретную «точку зрения» на параметризованную сеть.

### 2.3 Форсинг

Форсинг (forcing) — механизм проверки: вынуждает ли данный контекст истинность целевой формулы при всех возможных доопределениях переменных. Система использует трёхзначную логику Клини:

| Значение | Обозначение | Описание                     |
|----------|-------------|------------------------------|
| TRUE     | T           | Формула истинна              |
| FALSE    | F           | Формула ложна               |
| UNKNOWN  | U           | Истинность не определена     |

Форсинг-движок предоставляет три операции:

| Операция   | Назначение                                              |
|------------|---------------------------------------------------------|
| `check`    | Проверка выполнения всех условий (constraints)          |
| `forces`   | Проверка, форсирует ли контекст целевую формулу         |
| `force`    | Попытка расширить контекст для удовлетворения формулы   |

### 2.4 Пример предметной области «Университет»

Сценарий `lab1_university` моделирует фрагмент университетской структуры:

**Концепты (6):**

| ID          | Описание                       |
|-------------|--------------------------------|
| university  | Университет                    |
| dept_cs     | Кафедра ИВТ                    |
| course_db   | Курс «Базы данных»            |
| course_ai   | Курс «Искусственный интеллект»|
| ivanov      | Преподаватель Иванов           |
| petrov      | Студент Петров                 |

**Предикаты (5, бинарные):**

| Имя         | Роли                  | Описание            |
|-------------|-----------------------|----------------------|
| belongs_to  | (part, whole)         | Принадлежит          |
| teaches     | (teacher, course)     | Преподаёт            |
| enrolled_in | (student, course)     | Записан на курс      |
| works_at    | (person, place)       | Работает в           |
| studies_at  | (student, department) | Учится на кафедре    |

**Факты (7):**

1. `belongs_to(dept_cs, university)` — кафедра ИВТ принадлежит университету
2. `works_at(ivanov, dept_cs)` — Иванов работает на кафедре ИВТ
3. `teaches(ivanov, course_db)` — Иванов преподаёт «Базы данных»
4. `teaches(ivanov, course_ai)` — Иванов преподаёт «ИИ»
5. `enrolled_in(petrov, course_db)` — Петров записан на «Базы данных»
6. `enrolled_in(petrov, course_ai)` — Петров записан на «ИИ»
7. `studies_at(petrov, dept_cs)` — Петров учится на кафедре ИВТ

## 3 Требования к оборудованию и ПО

- Компьютер с доступом в интернет
- Веб-браузер (Chrome, Firefox, Safari, Edge)
- Доступ к сайту https://ctmsn.ru

## 4 Порядок выполнения

### 4.1 Регистрация в системе

1. Откройте в браузере сайт https://ctmsn.ru.
2. На странице входа нажмите ссылку «Регистрация».
3. В поле **«Имя пользователя»** введите логин строго в формате:

```
Фамилия_ИО_группа
```

где:
- **Фамилия** — фамилия студента (латиницей);
- **ИО** — первые буквы имени и отчества;
- **группа** — номер учебной группы.

Пример: `Ivanov_II_M24_302`

4. Заполните поле **«Пароль»**.
5. Нажмите кнопку «Зарегистрироваться».
6. После регистрации система автоматически выполнит вход.

> **Важно:** Формат имени пользователя используется преподавателем для идентификации студента. Некорректный формат логина может привести к тому, что работа не будет зачтена.

### 4.2 Создание рабочего пространства

1. После входа откроется страница «Мои пространства».
2. В поле ввода введите название рабочего пространства (например, «ЛР1 — Университет»).
3. Нажмите кнопку «Создать».
4. В списке рабочих пространств появится новая запись. Нажмите на неё для перехода в рабочую область.

### 4.3 Загрузка сценария

1. В верхней панели рабочей области расположена строка управления сценарием.
2. В выпадающем списке выберите `lab1_university`.
3. Нажмите кнопку **«Load»**.
4. Система загрузит семантическую сеть: на панели графа отобразятся 6 концептов и 7 связей между ними.

### 4.4 Изучение загруженной сети

После загрузки изучите структуру сети:

1. **Граф** — центральная область отображает визуализацию семантической сети. Узлы соответствуют концептам, рёбра — фактам. Цвет ребра определяется типом предиката.
2. **Панель редактора сети (Network Editor)** — расположена в правой части экрана. Содержит три вкладки:
   - **Concept** — список существующих концептов с возможностью добавления, редактирования и удаления.
   - **Predicate** — список предикатов с указанием арности.
   - **Fact** — список фактов с возможностью создания новых связей.
3. **Панель переменных** — отображает параметры сценария:
   - `student` — домен: {petrov}
   - `course` — домен: {course_db, course_ai}, начальное значение: course_db
   - `teacher` — домен: {ivanov}

### 4.5 Добавление нового концепта

1. В панели Network Editor перейдите на вкладку **Concept**.
2. В поле **ID** введите уникальный идентификатор (латиницей, snake_case), например: `sidorov`.
3. В поле **Label** введите описание, например: `Студент Сидоров`.
4. При необходимости в поле **Tags** укажите теги через запятую.
5. Нажмите кнопку **«Добавить концепт»**.
6. Новый узел появится на графе.

### 4.6 Добавление нового предиката

1. Перейдите на вкладку **Predicate**.
2. В поле **Name** введите имя предиката, например: `supervises`.
3. В поле **Arity** укажите арность (количество аргументов), например: `2`.
4. Нажмите кнопку **«Добавить предикат»**.

### 4.7 Добавление нового факта

1. Перейдите на вкладку **Fact**.
2. В выпадающем списке выберите предикат, например: `enrolled_in`.
3. Система покажет требуемое количество аргументов.
4. Выберите концепты-аргументы одним из двух способов:
   - **Способ 1:** Нажимайте на концепты в списке в порядке следования аргументов.
   - **Способ 2:** Введите ID концептов через запятую в текстовое поле (например: `sidorov, course_db`).
5. Когда число выбранных аргументов совпадёт с арностью предиката, станет доступна кнопка **«Добавить факт»**. Нажмите её.
6. На графе появится новое ребро.

### 4.8 Проверка форсинга

1. Нажмите кнопку **«Run»** в верхней панели.
2. Система выполнит три операции:
   - **check** — проверит выполнение условий (constraints).
   - **forces** — определит, форсирует ли текущий контекст целевую формулу.
   - **force** — попытается расширить контекст.
3. Результаты отобразятся на панели **«Форсирование»**:
   - Если все условия выполнены — отображается сообщение «Все условия выполнены» (зелёный).
   - Результат форсинга целевой формулы: TRUE, FALSE или UNKNOWN.
4. Для просмотра пояснений нажмите ссылку **«Объяснение»**.

Для сценария `lab1_university` ожидаемые результаты:

| Операция | Результат | Пояснение                                  |
|----------|-----------|---------------------------------------------|
| check    | ok        | Все три условия выполнены                   |
| forces   | TRUE      | Все факты целевой формулы присутствуют в сети|

### 4.9 Изменение контекста

1. На панели **«Переменные»** измените значение переменной `course` с `course_db` на `course_ai` через выпадающий список.
2. Нажмите **«Run»** повторно.
3. Обратите внимание на изменение результата форсинга: целевая формула содержит `teaches(ivanov, course_db)`, поэтому при смене курса результат может измениться.

### 4.10 Использование справочной панели

1. Нажмите кнопку **«?»** (справка) в правом верхнем углу панели инструментов.
2. В модальном окне доступны три вкладки:
   - **Задание** — описание лабораторной работы и критерии оценки.
   - **Логика** — таблицы истинности трёхзначной логики Клини (NOT, AND, OR, IMPLIES).
   - **Глоссарий** — определения терминов: Концепт, Предикат, Факт, Домен, Переменная, Контекст, Формула, Форсинг.
3. Для закрытия панели нажмите **✕** или клавишу **Esc**.

### 4.11 Экспорт результатов

1. Нажмите кнопку **«Экспорт JSON»** на панели инструментов.
2. Система сформирует JSON-файл с полным состоянием рабочего пространства и предложит сохранить его.
3. Для экспорта графа в виде изображения нажмите кнопку **«Экспорт PNG»**.

## 5 Задание для самостоятельной работы

Постройте собственную семантическую сеть для предметной области, согласованной с преподавателем. Требования:

| Параметр                  | Минимальное значение |
|---------------------------|----------------------|
| Количество концептов      | 5–7                  |
| Количество предикатов     | 3                    |
| Количество фактов         | 5                    |

Дополнительные требования:

- Идентификаторы концептов — латиница, формат `snake_case`.
- Предикаты должны иметь осмысленные роли, отражающие семантику отношения.
- Семантическая сеть должна быть связной (каждый концепт участвует хотя бы в одном факте).
- Обоснуйте выбранную структуру в отчёте.

## 6 Требования к отчёту

Отчёт оформляется в соответствии с ГОСТ 7.32-2017 и должен содержать следующие разделы:

1. **Титульный лист** — наименование учебного заведения, кафедры, дисциплины; название работы; ФИО студента и преподавателя; год.
2. **Цель работы** — формулировка цели в соответствии с разделом 1 настоящей инструкции.
3. **Теоретическая часть** — краткое изложение основных понятий: семантическая сеть, концепт, предикат, факт, параметризация, форсинг.
4. **Описание предметной области** — обоснование выбора предметной области; перечень сущностей и связей; логическая схема.
5. **Ход работы** — пошаговое описание действий в системе CTMSN с приложением скриншотов:
   - Загруженный эталонный сценарий `lab1_university` (скриншот графа).
   - Добавление собственных концептов, предикатов и фактов.
   - Результат запуска форсинга.
6. **Результаты** — таблица концептов, предикатов и фактов построенной сети; скриншот итогового графа; экспортированный JSON-файл (в приложении).
7. **Выводы** — заключение о проделанной работе, соответствие результатов поставленной цели.

## 7 Контрольные вопросы

1. Что такое семантическая сеть? Назовите её основные элементы.
2. Чем отличается предикат от факта?
3. Что такое арность предиката? Приведите пример бинарного предиката.
4. Для чего используется параметризация семантической сети?
5. Что такое контекст в системе CTMSN?
6. Какие значения может принимать формула в трёхзначной логике Клини?
7. В чём состоит операция форсинга? Чем `check` отличается от `forces`?
8. Каким требованиям должен удовлетворять идентификатор концепта?
