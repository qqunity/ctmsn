# Ð—Ð°Ð´Ð°Ñ‡Ð° Ð¾ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð¼ Ð¡Ð¼Ð¸Ñ‚Ðµ (Fast Smith Problem)

> **ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ:** [ðŸ  Ð“Ð»Ð°Ð²Ð½Ð°Ñ](../../../../README.md) | [â† Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÐµÐ²](../README.md) | **Ð’Ñ‹ Ð·Ð´ÐµÑÑŒ: Fast Smith** | [Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ â†’](../../../../FAST_SMITH_IMPLEMENTATION.md)

---

## ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

ÐšÐ»Ð°ÑÑÐ¸Ñ‡ÐµÑÐºÐ°Ñ Ð·Ð°Ð´Ð°Ñ‡Ð° Ð¾ Ð´Ð¸Ð½Ð°Ð¼Ð¸ÐºÐµ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸, Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð¸Ñ€ÑƒÑŽÑ‰Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ñ:
- ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°Ð¼Ð¸
- Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ð¼Ð¸ Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð¸Ð½Ð´Ð¸Ð²Ð¸Ð´Ð°Ð¼Ð¸  
- Ñ„Ð¾Ñ€ÑÐ¸Ð½Ð³Ð¾Ð¼ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð° Ð¼ÐµÐ¶Ð´Ñƒ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸ÑÐ¼Ð¸

## ÐŸÐ¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

Ð•ÑÑ‚ÑŒ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº A (Ð¡Ð¼Ð¸Ñ‚), Ð²ÑÑ‚ÑƒÐ¿Ð°ÑŽÑ‰Ð¸Ð¹ Ð² Ð±Ñ€Ð°Ðº ÑÐ¾ S.

ÐŸÑ€Ð¸ Ð²ÑÑ‚ÑƒÐ¿Ð»ÐµÐ½Ð¸Ð¸ Ð² Ð±Ñ€Ð°Ðº:
- Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ Ð¸Ð¼Ñ: A â†’ J (Ð”Ð¶Ð¾Ð½Ñ)
- Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾, Ñ‡Ñ‚Ð¾:
  - A ÑƒÐ¶Ðµ Ð¸Ð¼ÐµÐ» Ð¸Ð¼Ñ J Ñ€Ð°Ð½ÑŒÑˆÐµ
  - J ÑƒÐ¶Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ» Ð² Ð±Ñ€Ð°ÐºÐµ Ñ C

## Ð¤Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ð¼Ð¾Ð´ÐµÐ»ÑŒ

### ÐšÐ¾Ð½Ñ†ÐµÐ¿Ñ‚Ñ‹ (ÑƒÐ·Ð»Ñ‹ Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ñ‹)

**Ð˜Ð½Ð´Ð¸Ð²Ð¸Ð´Ñ‹:**
- `A` â€” Ð¡Ð¼Ð¸Ñ‚ (Ð´Ð¾ Ð±Ñ€Ð°ÐºÐ°)
- `B` â€” Ð¿Ñ€Ðµ-ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ
- `J` â€” Ð”Ð¶Ð¾Ð½Ñ
- `S` â€” ÑÑƒÐ¿Ñ€ÑƒÐ³(Ð°) (Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹)
- `C` â€” ÑÑƒÐ¿Ñ€ÑƒÐ³(Ð°) (Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€Ñ‚Ð½Ñ‘Ñ€ J)

**Ð’Ñ€ÐµÐ¼ÐµÐ½Ð°:**
- `T` â€” Ð¼Ð¾Ð¼ÐµÐ½Ñ‚/Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´
- `T+` â€” Ð¿Ð¾ÑÐ»Ðµ
- `T-` â€” Ð´Ð¾ (Tâ» = T \ Tâº)

**ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ñ‹:**
- `Cf-` â€” ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð´Ð¾
- `Cf+` â€” ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð¿Ð¾ÑÐ»Ðµ

### ÐžÑ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ (ÑÑ‚Ñ€ÐµÐ»ÐºÐ¸/Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ñ‹)

**Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ðµ ÑÑ‚Ñ€ÐµÐ»ÐºÐ¸:**
- `f`: A â†’ B
- `s`: A â†’ Tâ»
- `sf`: B â†’ Cfâ»
- `h`: A â†’ T (Ð¿ÑƒÐ½ÐºÑ‚Ð¸Ñ€)
- `j`: A â†’ Tâº
- `g`: T â†’ Tâº
- `not-g`: T â†’ Tâ»
- `r`: Tâ» â†’ Tâº (Ð¿ÑƒÐ½ÐºÑ‚Ð¸Ñ€)
- `râˆ˜sf`: Cfâ» â†’ Cfâº
- `incl`: Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Cfâ»â†ªTâ», Cfâºâ†ªTâº

**ÐšÐ¾Ð¼Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ Ñ€Ð°Ð²ÐµÐ½ÑÑ‚Ð²Ð°:**
1. `g âˆ˜ h = j` â€” "Ð²ÐµÐ´Ñ‘Ñ‚ ÑÐµÐ±Ñ ÐºÐ°Ðº j"
2. `not-g âˆ˜ h = s` â€” "Ð²ÐµÐ´Ñ‘Ñ‚ ÑÐµÐ±Ñ ÐºÐ°Ðº s"  
3. `r âˆ˜ sf = jf` â€” "ÑÑ‚Ð°Ð» Ð²ÐµÑÑ‚Ð¸ ÑÐµÐ±Ñ ÐºÐ°Ðº jf"

### ÐŸÑ€ÐµÐ´Ð¸ÐºÐ°Ñ‚Ñ‹

- `edge(label, from, to)` â€” Ð¿Ð¾Ð¼ÐµÑ‡ÐµÐ½Ð½Ð°Ñ ÑÑ‚Ñ€ÐµÐ»ÐºÐ°
- `comp(left, right, result)` â€” ÐºÐ¾Ð¼Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ: right âˆ˜ left = result
- `in(elem, set)` â€” Ð¿Ñ€Ð¸Ð½Ð°Ð´Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚ÑŒ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ñƒ
- `has_name(person, name)` â€” Ð¸Ð¼Ñ Ð»Ð¸Ñ†Ð°
- `married(person, spouse)` â€” Ð±Ñ€Ð°Ðº
- `acts_like(node, label)` â€” Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ñ‡ÐµÑÐºÐ°Ñ Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ†Ð¸Ñ

## Ð¦ÐµÐ»ÑŒ (Ï†)

ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð² ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð¼ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÑ‚Ð²ÐµÑ€Ð¶Ð´Ð°Ñ‚ÑŒ:

```
acts_like(A, "jf") âˆ§ acts_like(A, "j") âˆ§ acts_like(A, "s")
```

Ð¢Ð¾ ÐµÑÑ‚ÑŒ, Ñ‡Ñ‚Ð¾ A:
- ÑÑ‚Ð°Ð» Ð²ÐµÑÑ‚Ð¸ ÑÐµÐ±Ñ ÐºÐ°Ðº jf (Ð¿Ð¾ r âˆ˜ sf)
- Ð²ÐµÐ´Ñ‘Ñ‚ ÑÐµÐ±Ñ ÐºÐ°Ðº j (Ð¿Ð¾ g âˆ˜ h)
- Ð²ÐµÐ´Ñ‘Ñ‚ ÑÐµÐ±Ñ ÐºÐ°Ðº s (Ð¿Ð¾ not-g âˆ˜ h)

## ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ

1. **Ð Ð°Ð·Ð½Ð¾ÑÑ‚ÑŒ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²:** Tâ» = T \ Tâº
   - `in(Tâ», T)` 
   - `Â¬in(Tâ», Tâº)`

2. **ÐšÐ¾Ð¼Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ Ñ€Ð°Ð²ÐµÐ½ÑÑ‚Ð²Ð°** (ÐºÐ°Ðº ÑƒÑÐ»Ð¾Ð²Ð¸Ñ ÑÐ¾Ð³Ð»Ð°ÑÐ¾Ð²Ð°Ð½Ð½Ð¾ÑÑ‚Ð¸)

## Ð—Ð°Ð¿ÑƒÑÐº

```bash
python src/ctmsn/examples/fast_smith_demo.py
```

## ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚

ÐŸÑ€Ð¸ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¹ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ„Ð¾Ñ€ÑÐ¸Ð½Ð³Ð°:
- `check(ctx0, conditions)` â†’ OK (ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð½ÐµÐ¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð¾Ñ€ÐµÑ‡Ð¸Ð²)
- `forces(ctx0, Ï†)` â†’ TRUE (Ð²ÑÐµ acts_like ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ Ð² ÑÐµÑ‚Ð¸)
- `force(ctx0, Ï†)` â†’ "Already forced" (Ñ†ÐµÐ»ÑŒ ÑƒÐ¶Ðµ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð½ÑƒÑ‚Ð°)

## Ð¢ÐµÐ¾Ñ€ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ

Ð—Ð°Ð´Ð°Ñ‡Ð° Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐµÑ‚:
- Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ñ ÐºÐ¾Ð¼Ð¿Ð¾Ð·Ð¸Ñ†Ð¸ÑÐ¼Ð¸ Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð¾Ð²
- Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ†Ð¸ÑŽ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ñ‡ÐµÑÐºÐ¸Ñ… Ð¿Ñ€ÐµÐ´Ð¸ÐºÐ°Ñ‚Ð¾Ð²
- Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ Ð½ÐµÐ¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð¾Ñ€ÐµÑ‡Ð¸Ð²Ð¾ÑÑ‚Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð¾Ð²
- ÑÐµÐ¼Ð°Ð½Ñ‚Ð¸ÐºÑƒ Ñ€Ð°Ð·Ð½Ð¾ÑÑ‚Ð¸ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð² Ð² ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹Ð½Ð¾Ð¼ ÑÑ‚Ð¸Ð»Ðµ

---

> **ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ:** [ðŸ  Ð“Ð»Ð°Ð²Ð½Ð°Ñ](../../../../README.md) | [â† Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÐµÐ²](../README.md) | [ÐŸÐ¾Ð»Ð½Ð°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ â†’](../../../../FAST_SMITH_IMPLEMENTATION.md)
> 
> **Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ:**
> ```bash
> python3 src/ctmsn/examples/fast_smith_demo.py
> ```
